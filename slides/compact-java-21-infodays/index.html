<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui"><title>Java 21: code and collections</title><link rel="stylesheet" href="../../_reveal.js/css/reset.css"><link rel="stylesheet" href="../../_reveal.js/css/reveal.css"><link rel="stylesheet" href="../../_reveal.js/css/theme/adesso.css" id="theme"><!--This CSS is generated by the Asciidoctor reveal.js converter to further integrate AsciiDoc's existing semantic with reveal.js--><style type="text/css">.reveal div.right {
  float: right
}

/* listing block */
.reveal .listingblock.stretch > .content {
  height: 100%
}

.reveal .listingblock.stretch > .content > pre {
  height: 100%
}

.reveal .listingblock.stretch > .content > pre > code {
  height: 100%;
  max-height: 100%
}

/* tables */
table {
  border-collapse: collapse;
  border-spacing: 0
}

table {
  margin-bottom: 1.25em;
  border: solid 1px #dedede
}

table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td {
  padding: .5em .625em .625em;
  font-size: inherit;
  text-align: left
}

table tr th, table tr td {
  padding: .5625em .625em;
  font-size: inherit
}

table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td {
  display: table-cell;
  line-height: 1.6
}

td.tableblock > .content {
  margin-bottom: 1.25em
}

td.tableblock > .content > :last-child {
  margin-bottom: -1.25em
}

table.tableblock, th.tableblock, td.tableblock {
  border: 0 solid #dedede
}

table.grid-all > thead > tr > .tableblock, table.grid-all > tbody > tr > .tableblock {
  border-width: 0 1px 1px 0
}

table.grid-all > tfoot > tr > .tableblock {
  border-width: 1px 1px 0 0
}

table.grid-cols > * > tr > .tableblock {
  border-width: 0 1px 0 0
}

table.grid-rows > thead > tr > .tableblock, table.grid-rows > tbody > tr > .tableblock {
  border-width: 0 0 1px
}

table.grid-rows > tfoot > tr > .tableblock {
  border-width: 1px 0 0
}

table.grid-all > * > tr > .tableblock:last-child, table.grid-cols > * > tr > .tableblock:last-child {
  border-right-width: 0
}

table.grid-all > tbody > tr:last-child > .tableblock, table.grid-all > thead:last-child > tr > .tableblock, table.grid-rows > tbody > tr:last-child > .tableblock, table.grid-rows > thead:last-child > tr > .tableblock {
  border-bottom-width: 0
}

table.frame-all {
  border-width: 1px
}

table.frame-sides {
  border-width: 0 1px
}

table.frame-topbot, table.frame-ends {
  border-width: 1px 0
}

.reveal table th.halign-left, .reveal table td.halign-left {
  text-align: left
}

.reveal table th.halign-right, .reveal table td.halign-right {
  text-align: right
}

.reveal table th.halign-center, .reveal table td.halign-center {
  text-align: center
}

.reveal table th.valign-top, .reveal table td.valign-top {
  vertical-align: top
}

.reveal table th.valign-bottom, .reveal table td.valign-bottom {
  vertical-align: bottom
}

.reveal table th.valign-middle, .reveal table td.valign-middle {
  vertical-align: middle
}

table thead th, table tfoot th {
  font-weight: bold
}

tbody tr th {
  display: table-cell;
  line-height: 1.6
}

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p {
  font-weight: bold
}

thead {
  display: table-header-group
}

.reveal table.grid-none th, .reveal table.grid-none td {
  border-bottom: 0 !important
}

/* kbd macro */
kbd {
  font-family: "Droid Sans Mono", "DejaVu Sans Mono", monospace;
  display: inline-block;
  color: rgba(0, 0, 0, .8);
  font-size: .65em;
  line-height: 1.45;
  background: #f7f7f7;
  border: 1px solid #ccc;
  -webkit-border-radius: 3px;
  border-radius: 3px;
  -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, .2), 0 0 0 .1em white inset;
  box-shadow: 0 1px 0 rgba(0, 0, 0, .2), 0 0 0 .1em #fff inset;
  margin: 0 .15em;
  padding: .2em .5em;
  vertical-align: middle;
  position: relative;
  top: -.1em;
  white-space: nowrap
}

.keyseq kbd:first-child {
  margin-left: 0
}

.keyseq kbd:last-child {
  margin-right: 0
}

/* callouts */
.conum[data-value] {
  display: inline-block;
  color: #fff !important;
  background: rgba(0, 0, 0, .8);
  -webkit-border-radius: 50%;
  border-radius: 50%;
  text-align: center;
  font-size: .75em;
  width: 1.67em;
  height: 1.67em;
  line-height: 1.67em;
  font-family: "Open Sans", "DejaVu Sans", sans-serif;
  font-style: normal;
  font-weight: bold
}

.conum[data-value] * {
  color: #fff !important
}

.conum[data-value] + b {
  display: none
}

.conum[data-value]:after {
  content: attr(data-value)
}

pre .conum[data-value] {
  position: relative;
  top: -.125em
}

b.conum * {
  color: inherit !important
}

.conum:not([data-value]):empty {
  display: none
}

/* Callout list */
.hdlist > table, .colist > table {
  border: 0;
  background: none
}

.hdlist > table > tbody > tr, .colist > table > tbody > tr {
  background: none
}

td.hdlist1, td.hdlist2 {
  vertical-align: top;
  padding: 0 .625em
}

td.hdlist1 {
  font-weight: bold;
  padding-bottom: 1.25em
}

/* Disabled from Asciidoctor CSS because it caused callout list to go under the
 * source listing when .stretch is applied (see #335)
 * .literalblock+.colist,.listingblock+.colist{margin-top:-.5em} */
.colist td:not([class]):first-child {
  padding: .4em .75em 0;
  line-height: 1;
  vertical-align: top
}

.colist td:not([class]):first-child img {
  max-width: none
}

.colist td:not([class]):last-child {
  padding: .25em 0
}

/* Override Asciidoctor CSS that causes issues with reveal.js features */
.reveal .hljs table {
  border: 0
}

/* Callout list rows would have a bottom border with some reveal.js themes (see #335) */
.reveal .colist > table th, .reveal .colist > table td {
  border-bottom: 0
}

/* Fixes line height with Highlight.js source listing when linenums enabled (see #331) */
.reveal .hljs table thead tr th, .reveal .hljs table tfoot tr th, .reveal .hljs table tbody tr td, .reveal .hljs table tr td, .reveal .hljs table tfoot tr td {
  line-height: inherit
}

/* Columns layout */
.columns .slide-content {
  display: flex;
}

.columns.wrap .slide-content {
  flex-wrap: wrap;
}

.columns.is-vcentered .slide-content {
  align-items: center;
}

.columns .slide-content > .column {
  display: block;
  flex-basis: 0;
  flex-grow: 1;
  flex-shrink: 1;
}

.columns .slide-content > .column > * {
  padding: .75rem;
}

/* See #353 */
.columns.wrap .slide-content > .column {
  flex-basis: auto;
}

.columns .slide-content > .column.is-full {
  flex: none;
  width: 100%;
}

.columns .slide-content > .column.is-four-fifths {
  flex: none;
  width: 80%;
}

.columns .slide-content > .column.is-three-quarters {
  flex: none;
  width: 75%;
}

.columns .slide-content > .column.is-two-thirds {
  flex: none;
  width: 66.6666%;
}

.columns .slide-content > .column.is-three-fifths {
  flex: none;
  width: 60%;
}

.columns .slide-content > .column.is-half {
  flex: none;
  width: 50%;
}

.columns .slide-content > .column.is-two-fifths {
  flex: none;
  width: 40%;
}

.columns .slide-content > .column.is-one-third {
  flex: none;
  width: 33.3333%;
}

.columns .slide-content > .column.is-one-quarter {
  flex: none;
  width: 25%;
}

.columns .slide-content > .column.is-one-fifth {
  flex: none;
  width: 20%;
}

.columns .slide-content > .column.has-text-left {
  text-align: left;
}

.columns .slide-content > .column.has-text-justified {
  text-align: justify;
}

.columns .slide-content > .column.has-text-right {
  text-align: right;
}

.columns .slide-content > .column.has-text-left {
  text-align: left;
}

.columns .slide-content > .column.has-text-justified {
  text-align: justify;
}

.columns .slide-content > .column.has-text-right {
  text-align: right;
}

.text-left {
  text-align: left !important
}

.text-right {
  text-align: right !important
}

.text-center {
  text-align: center !important
}

.text-justify {
  text-align: justify !important
}

.footnotes {
  border-top: 1px solid rgba(0, 0, 0, 0.2);
  padding: 0.5em 0 0 0;
  font-size: 0.65em;
  margin-top: 4em;
}
</style><!--Printing and PDF exports--><script>var link = document.createElement( 'link' );
link.rel = 'stylesheet';
link.type = 'text/css';
link.href = window.location.search.match( /print-pdf/gi ) ? "../../_reveal.js/css/print/pdf.css" : "../../_reveal.js/css/print/paper.css";
document.getElementsByTagName( 'head' )[0].appendChild( link );</script></head><body><div class="reveal"><div class="slides"><section class="title" data-state="title"><h1>Java 21</h1><h2>code and collections</h2><div class="preamble"><link rel="stylesheet" href="../../_highlight.js/github.min.css">
<script src="../../_highlight.js/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
<div class="event">
	<div class="participant">
		<img src="../../_shared/images/merlin-at-devoxx.jpg" class="logo">
		<div class="name">
			<p><a href="https://mboegers.github.io">Merlin B&ouml;gershausen</a></p>
			<p><a href="https://fosstodon.org/@MBoegie" title="Merlin on Fosstodon">MBoegie@fosstodon.org</a></p>
			<p><a href="https://twitter.com/mboegie" title="Merlin on Twitter">@mboegie</a></p>
		</div>
	</div>
	<div class="participant">
		<a href="https://www.infodays.de/java-lts"><img src="../../_shared/images/hosts/info-days.ico" class="logo" style="logo"></a>
		<div class="name">
			<p><a href="https://www.infodays.de/java-lts">INFODAYS Java 21</a></p>
			<p><a href="https://twitter.com/SIGSDATACOM" style="{host-twitter-style}">@SIGSDATACOM</a></p>
		</div>
	</div>
	<div class="participant">
		<a href="https://www.adesso.de/de/"><img src="../../_shared/images/adesso_logo_NoClaim.png" class="logo"></a>
		<div class="name">
			<p>Java Software Engineer</p>
            <p>Line of Business Public</p>
		</div>
	</div>
</div>
<header>
    <div class="host">
        <a href="https://www.infodays.de/java-lts"><img src="../../_shared/images/hosts/info-days.ico" class="logo" style="logo"></a>
        <div class="name">
            <p><a href="https://www.infodays.de/java-lts">INFODAYS Java 21</a> / <a href="https://twitter.com/SIGSDATACOM" style="{host-twitter-style}">@SIGSDATACOM</a></p>
        </div>
    </div>
    <div class="participant">
        <img src="../../_shared/images/merlin-at-devoxx.jpg" class="logo">
        <a href="https://www.adesso.de/de/"><img src="../../_shared/images/adesso_logo_NoClaim.png" class="logo"></a>
        <div class="name"><p>
            Merlin B&ouml;gershausen
            / <a href="https://twitter.com/mboegie" title="Merlin on Twitter">@mboegie</a>
        </p></div>
    </div>
</header>
<!-- Just adding a footer does not work because reveal.js puts it into the slides and we couldn't get it out via CSS. So we move it via JavaScript. -->
<script>
	document.addEventListener('DOMContentLoaded', function () {
		document.body.appendChild(document.querySelector('header'));
	})
</script></div></section>
<section id="_️_️" data-background-image="images/Plants-vs-Zombies-Wallpaper.jpg" data-background-size="cover"><h2>🌺🌺️ 🆚 🧟️🧟‍</h2><div class="slide-content">
<aside class="notes"><div class="paragraph"><p>Kennt ihr dieses Legendräres Spiel?
Plants vs. Zombies in dem man mit Pflanzen gegen eine Zombiinvasion kämpf, geil!#
Da gibt es ein paar Scenen in denen die Zombis Forderungen stellen, eine solche wollen wir heute auch erzeugen.</p></div>
<div class="paragraph"><p>Die Zombies fordern Geld oder sie fressen unsere Gehirne.
Weil sie das bei vielen Menschen versuchen, braucht die Zombi Inc. eine Software.</p></div></aside></div></section>
<section id="" data-background-image="images/steckpuzzel.jpg" data-background-size="cover"><h2>🧩</h2><div class="slide-content">
<aside class="notes"><div class="paragraph"><p>Hier betrachten wir die Erzeugzung der Texte.</p></div>
<div class="paragraph"><p>Es geht im Strings, genauer um String in denen etwas rein soll.
So wie in dem Puzzel meines Kinds hier, der Baum und das Auto.
Das kommt regelmäßig überall vor und wir haben in Java viele Möglichkeiten das zu realisieren.</p></div></aside></div></section>
<section><section id="_string_concatenation"><h2>String Concatenation</h2><div class="slide-content"><div class="listingblock"><div class="content"><pre class="highlight"><code class="language-java" data-lang="java">String invoiceTxt =
    "Hi " + name + ",\n"
  + "please send " + (value + tax) + "€ to us or we eat"
  + "your brain.\n\n"
  + "Sincerely\n"
  + "\tThe 🧟s";</code></pre></div></div><div class="ulist"><ul><li><p>hard to read ❌</p></li><li><p>hard to format ❌</p></li><li><p>need for braces ❌</p></li></ul></div><aside class="notes"><div class="paragraph"><p>Bei der Konkationation von Strings muss immer " + x + " genutzt werden.
Dazu kommen Klammern wir value + tax vs (value + tax).
Formatierung des Strings ist auch eher horror.</p></div>
<div class="paragraph"><p>Dafür technisch sehr einfach ;)</p></div></aside></div></section><section id="_string_builder"><h2>String Builder</h2><div class="slide-content"><div class="listingblock"><div class="content"><pre class="highlight"><code class="language-java" data-lang="java">String invoiceTxt = new StringBuilder()
  .append("Hi ").append(name).append(",\n")
  .append("please send ").append(value + tax)
    .append("€ to us or we eat you brain.\n\n")
  .append("Sincerely\n")
  .append("\tThe 🧟s")
  .toString();</code></pre></div></div>
<div class="ulist"><ul><li><p>even worse to read ❌❌</p></li><li><p>hard to format ❌</p></li><li><p>very verbose ❌</p></li></ul></div>
<aside class="notes"><div class="paragraph"><p>StringBuilder bzw. StringBuffer sind "nur" programmatische Konkatination, es ist nicht mal Syntaktischer Zucker.
Immerhin müssen wir hier nicht noch klammern (value + tax), das ist klarer, dennnoch ist es ungeeignet.
Sie haben ihre Berechtigung bei dynmischer erzeugung von Strings.</p></div></aside></div></section><section id="_string_format"><h2>String Format</h2><div class="slide-content"><div class="listingblock"><div class="content"><pre class="highlight"><code class="language-java" data-lang="java">String invoiceTxt = """
  Hi %s,
  please send %.2f€ to us or we eat you brain.

  Sincerely
    The 🧟s""".formatted(name, value + tax);
// pre Java 15
String.format("..", name, value + tax);</code></pre></div></div>
<div class="ulist"><ul><li><p>better to read ✅</p></li><li><p>easy to format ✅</p></li><li><p>decouple parameter from String ❌</p></li></ul></div>
<aside class="notes"><div class="paragraph"><p>Hier geht es wirklich in die richtige Richtung, vor allem wenn wir noch TextBlocks verwenden.
Hier werden Platzhalter mit % eingeführt und ihnen ein Datentyp bzw. Format zugewiesen.
Das ist keine Konkatination mehr hier spricht man von String Format.</p></div>
<div class="paragraph"><p>In dieser Kombination sparen wir und das Formatieren, generell ist der Text besser Lesbar.
Doch die Enkopplung von Format und Wert brirgt Probleme.
Es ist garnicht Compile Zeit Typsicher und auch zur Runtime nur bedingt.
Es führt oft zu Typ Missmatches wenn die IDE nicht hilft.</p></div></aside></div></section><section id="_what_do_we_want"><h2>What do we want?</h2><div class="slide-content"><div class="imageblock"><img src="images/maoam.jpg" alt="maoam"></div></div></section><section id="_what_do_we_want_2"><h2>What do we want?</h2><div class="slide-content"><div class="ulist"><ul><li><p>Strings with runtime computed values</p></li><li><p>readable mix of expressions and Strings</p></li><li><p>easy Formatting of values</p></li></ul></div>
<aside class="notes"><div class="olist arabic"><ol class="arabic"><li><p>Kopplung von Format und Wert</p></li><li><p>Durch gäniger Lesefluss</p></li><li><p>Wenig verboser syntax</p></li></ol></div></aside></div></section><section id="_jep_430_string_templates"><h2>JEP 430 String Templates</h2><div class="slide-content"><div class="listingblock"><div class="content"><pre class="highlight"><code class="language-java" data-lang="java">String name = "Merlin";
int value = 34;
double tax = value * 0.1;

String invoiceTxt = STR."""
  Hi \{ name },
  please send \{ value + tax }€ to us or we eat you brain.

  Sincerely
    The 🧟s""";</code></pre></div></div>
<aside class="notes"><div class="paragraph"><p>Wir haben hier zwei Neue Dinge im Gegensatz zu Format String mit Text Blocks.
StringTemplate, STR. und \{ }, fange wir hinten an.</p></div>
<div class="paragraph"><p>\{ ist seit eniger Zeit eine nicht erlaubtes Escape Zeichen in Strings und zeigt nun den beginn einen Platzhalter an.
Innerhalb eine Plathalters ist eine Expression erlaubt welche zur Laufzeit ausgewertet und in den Finalen String eingefügt wird.</p></div>
<div class="paragraph"><p>STR. gibt an mit welchem StringProcessor verwendet wird um das StringTemplate zu verarbeiten und die StringFragments mit den Werten zu kombinieren.
STR ist hierbei der STR (String) StringTemplateProcessor und STR."" ist nichts weiter als syntaktischer Zucker für einen Methodenaufruf.
Er prozessiert einen ein StringTemplate zu einem String, und es gibt noch weitere.</p></div></aside></div></section><section id="_with_format"><h2>With Format</h2><div class="slide-content"><div class="listingblock"><div class="content"><pre class="highlight"><code class="language-java" data-lang="java">// String name; int value; double tax;

String invoiceTxt = FMT."""
  Hi %s\{ name },
  please send %.2f\{ value + tax }€ to us or we eat you brain.

  Sincerely
    The 🧟s""";</code></pre></div></div>
<aside class="notes"><div class="paragraph"><p>FMT zum beispiel ist der FormattedString StringProcessor.
Er kombiniert die Formatierungsmöglicheiten aus der Format String Methodik mit dem der StringProcessoren.</p></div>
<div class="paragraph"><p>Hiermit ist nun alles zusammen, was wir wollen.
Format und Wert sind zusammen, ein Durchgäniger Lesefluss und nur eine Handvoll zeichen Syntax.
Ist das wirklich alles was wir wollen? Nein wir wollen auch erweitern.</p></div></aside></div></section><section id="_code_behind"><h2>Code Behind</h2><div class="slide-content"><div class="listingblock"><div class="content"><pre class="highlight"><code class="language-java" data-lang="java">@FunctionalInterface
public interface Processor&lt;R, E extends Throwable&gt; {

  // transform StringTemplate to Result
  R process(StringTemplate stringTemplate) throws E;

  // Factory Method for Processors
  static &lt;T&gt; Processor&lt;T, RuntimeException&gt;
    of(Function&lt;? super StringTemplate, ? extends T&gt; process){}
}</code></pre></div></div></div></section><section id="_code_behind_2"><h2>Code Behind</h2><div class="slide-content"><div class="listingblock"><div class="content"><pre class="highlight"><code class="language-java" data-lang="java">class Shuffler implements Processor&lt;String, Throwable&gt; {
  @Override
  public String process(StringTemplate st) throws Throwable {
    var values = st.values().reversed().iterator();
    var sb = new StringBuilder();
    st.fragments().reversed()
      .forEach(frag -&gt; sb.append(frag).append(values.next()));
    return sb.toString();
  }
} // new Shuffler().""

var JSON = StringTemplate.Processor
  .of(st -&gt; new JSONObject(st.interpolate()));</code></pre></div></div>
<aside class="notes"><div class="paragraph"><p>Schlüssel zur implementierung eines eigenen Processors ist das Interface StringTemplate.processor mit seiner process Methode.
Diese bekommt ein StringTemplate als die Laufzeitrepräsentation.
Dieses hat eine Liste fragments und values, die ausgewerteten Werte der Platzhalter.
Die Fragmente sind die Strings vor und nach dem Platzhaltern.</p></div></aside></div></section><section id="_pojo_to_string_full_circle" data-background-image="images/18879892_v1030-030.jpg" data-background-size="cover"><h2>PoJo to String Full Circle</h2></section></section>
<section><section id="_2" data-background-image="images/29175410_na_march_19.jpg" data-background-size="cover"><h2>🛫 &#8594; 🛬</h2><div class="slide-content"><aside class="notes"><div class="paragraph"><p>Die Zombies versenden viele Nachrichten dieser Art oder auch Mahnungen.
Natürlich führt das zu juristischen Problemen und im Zweifel müssen sie tatsächlich losziehen und ein Haus stürmen.</p></div>
<div class="paragraph"><p>Wie bei jeder Auseinandersetzung sich zu merken was die Schritte waren, doch Zombies sind nicht die hellsten also wird alles gespeichert.</p></div></aside></div></section><section id="_needs"><h2>Needs</h2><div class="slide-content"><div class="ulist"><ul><li><p>first and last letter</p></li><li><p>keep order and travers revers</p></li><li><p>add and remove at both ends</p></li></ul></div>
<div class="paragraph"><p>🤔List, (Sorted)Set, Deque 🧐</p></div></div></section><section id="_firstnlast"><h2>First&#8217;n&#8217;Last</h2><div class="slide-content"><div class="listingblock"><div class="content"><pre class="highlight"><code class="language-java" data-lang="java">// List
list.get(0); list.get(list.size() -1));
// Sorted Set at least
sortedSet.first(); sortedSet.last();
// Deque (double ended queue)
deque.getFirst(); deque.getLast();</code></pre></div></div>
<div class="paragraph"><p>👑Deque</p></div>
<aside class="notes"></aside></div></section><section id="_ordernreverse"><h2>Order&#8217;n&#8217;Reverse</h2><div class="slide-content"><div class="listingblock"><div class="content"><pre class="highlight"><code class="language-java" data-lang="java">// List
for(var it = l.listIterator(l.size()); it.hasPrevious();){ }
// sorted Set
sortedSet.descendingSet().forEach();
// Deque
for(var it = deque.descendingIterator(); it.hasNext();){ }</code></pre></div></div>
<div class="paragraph"><p>👑Sorted Set</p></div>
<aside class="notes"></aside></div></section><section id="_addnremove"><h2>Add&#8217;n&#8217;Remove</h2><div class="slide-content"><div class="listingblock"><div class="content"><pre class="highlight"><code class="language-java" data-lang="java">// List
l.add(0, "Hallo"); l.add("World");
// sorted Set
var tmp = new TreeSet&lt;String&gt;();
tmp.add("Hallo");
tmp.addAll(sortedSet);
tmp.add("World");
sortedSet = tmp;
// Deque
deque.addFirst("Hello"); deque.addLast("World");</code></pre></div></div>
<div class="paragraph"><p>👑Deque</p></div>
<aside class="notes"></aside></div></section><section id="_and_the_winner_is" data-background-image="images/projektor-buehnenbeleuchtung.jpg" data-background-size="cover"><h2>And the winner is ⁉</h2><div class="slide-content">
<aside class="notes"><div class="paragraph"><p>laut unseres kleinen Wettbewerbes müssete es Deque sein.
Das ist aber eine riesiges interface mit vermischungen, ungewohntem Wording wir poll und offer.</p></div>
<div class="paragraph"><p>Warum ist es eigentlich so uneinheitlich, da fehlt doch etwas?</p></div></aside></div></section><section id="_the_missing"><h2>The missing 🧩</h2><div class="slide-content"><div class="imageblock"><img src="images/SequencedCollectionDiagram20220216.png" alt="SequencedCollectionDiagram20220216"></div>
<aside class="notes"><div class="paragraph"><p>Neben den bereits bekannten Verhaltensmustern "nur eine Instanze" (Set) und "Queue semantic" gibt es nun ein neues Verhalten mit Bezug zur Reihenfolge.</p></div>
<div class="paragraph"><p>SequencedCollection fügt die Semantik der Ordnung in die API der Collections ein.
SequencedSet überschreibt nur reversed um weiterhin die Set-sematic zu transportieren.
SequencedMap definiert eine Ordnungssemantik in Maps und arbeitet mit SequencedSet und SequencedCollection</p></div></aside></div></section><section id="_sequenced_collection"><h2>Sequenced Collection</h2><div class="slide-content"><div class="listingblock"><div class="content"><pre class="highlight"><code class="language-java" data-lang="java">interface SequencedCollection&lt;E&gt; extends Collection&lt;E&gt; {
  // new method
  SequencedCollection&lt;E&gt; reversed();
  // methods promoted from Deque
  void addFirst(E); void addLast(E);
  E getFirst(); E getLast();
  E removeFirst(); E removeLast();
}</code></pre></div></div>
<div class="paragraph"><p>see <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedCollection.html">SequencedCollection</a> JavaDoc.</p></div></div></section><section id="_sequenced_set"><h2>Sequenced Set</h2><div class="slide-content"><div class="listingblock"><div class="content"><pre class="highlight"><code class="language-java" data-lang="java">interface SequencedSet&lt;E&gt;
    extends Set&lt;E&gt;, SequencedCollection&lt;E&gt; {
  SequencedSet&lt;E&gt; reversed();    // covariant override
}</code></pre></div></div>
<div class="paragraph"><p>see <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedSet.html">SequencedSet</a> JavaDoc.</p></div></div></section><section id="_sequenced_map"><h2>Sequenced Map</h2><div class="slide-content"><div class="listingblock"><div class="content"><pre class="highlight"><code class="language-java" data-lang="java">interface SequencedMap&lt;K,V&gt; extends Map&lt;K,V&gt; {
  // new methods
  SequencedMap&lt;K,V&gt; reversed();
  SequencedSet&lt;K&gt; sequencedKeySet();
  SequencedCollection&lt;V&gt; sequencedValues();
  SequencedSet&lt;Entry&lt;K,V&gt;&gt; sequencedEntrySet();
  V putFirst(K, V); V putLast(K, V);
  // methods promoted from NavigableMap
  Entry&lt;K, V&gt; firstEntry(); Entry&lt;K, V&gt; lastEntry();
  Entry&lt;K, V&gt; pollFirstEntry(); Entry&lt;K, V&gt; pollLastEntry();
}</code></pre></div></div>
<div class="paragraph"><p>see <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/SequencedMap.html">SequencedMap</a> JavaDoc.</p></div></div></section><section id="_why_now"><h2>Why now?</h2><div class="slide-content"><div class="quoteblock"><blockquote><div class="paragraph"><p>We live forward, but we understand backward.</p></div></blockquote><div class="attribution">&#8212; Søren Aabye Kierkegaard 1844</div></div>
<aside class="notes"><div class="paragraph"><p>Warum bekommen wir das jetzt, dass Collection API gibt es schon seit Jahre.</p></div>
<div class="paragraph"><p>Brain Goetz musste unter anderem auf der Devoxx zugeben "We live forward, but we understand backward."</p></div>
<div class="paragraph"><p>Diese Asymetrie wurde einfach vergessen, dies macht es vielen schwer die API zu verstehen und/oder mit ihnen zu arbeiten.</p></div>
<div class="paragraph"><p>Jetzt gibt es in der Colelction API nicht nur Reihenfolge sonder auch eine API die dies repräsentiert.</p></div></aside></div></section></section>
<section><section id="_learn_java_its_easy" data-background-image="images/auto-feldweg.jpg" data-background-size="cover"><h2>learn Java, it&#8217;s easy</h2><div class="slide-content"><aside class="notes"><div class="paragraph"><p>Java ist eine Sprache mit Enterprise Fokus.
Der Einstiegserfahrung wurde nicht besonders viel Aufmerksamkeit geschenkt.</p></div>
<div class="paragraph"><p>Erinnert euch mal daran wie oft ihr Dinge akzeptieren musstet am Anfang.</p></div></aside></div></section><section id="_main"><h2>Main</h2><div class="slide-content"><div class="listingblock"><div class="content"><pre class="highlight"><code class="language-java" data-lang="java">public class Main {
  public static void main(String[] args) {
    System.out.println("Hello 🧟‍-Land");
  }
}</code></pre></div></div>
<div class="openblock fragment"><div class="content"><div class="paragraph"><p>Public Class with public static main with array parametern.</p></div></div></div>
<aside class="notes"><div class="paragraph"><p>Enthaltene Konzepte sind 10</p></div>
<div class="ulist"><ul><li><p>class</p></li><li><p>visibility</p></li><li><p>static</p></li><li><p>methods</p></li><li><p>method parameter</p></li><li><p>variables</p></li><li><p>array</p></li><li><p>method call</p></li><li><p>entry point</p></li></ul></div></aside></div></section><section id="_flexible_launching"><h2>Flexible launching</h2><div class="slide-content"><div class="paragraph"><p>Allow all non-private classes</p></div>
<div class="olist arabic"><ol class="arabic"><li><p><code>static void main(String[] args)</code></p></li><li><p><code>static void main()</code></p></li><li><p><code>void main(String[] args)</code></p></li><li><p><code>void main()</code></p></li></ol></div>
<aside class="notes"><div class="paragraph"><p>Versteckte Konzepte die den Einstieg erleichtern:</p></div>
<div class="ulist"><ul><li><p>Starten von einer Instance-main Methode</p></li><li><p>keine static main mit parameter String[] aber static main without parameter take that</p></li><li><p>keine static main methode aber non-private NoArgsConstructor and a non-private main methode then construct the class and call main</p></li><li><p>wenn eine main methode mit parametern da ist call diese, sonst die ohne parameter</p></li></ul></div></aside></div></section><section id="_flexible_launching_2"><h2>Flexible launching</h2><div class="slide-content"><div class="listingblock"><div class="content"><pre class="highlight"><code class="language-java" data-lang="java">public class Main {
  public static void main(String[] args) {
    System.out.println("Hello 🧟‍-Land");
  }
}</code></pre></div></div>
<div class="listingblock"><div class="content"><pre class="highlight"><code class="language-java" data-lang="java">class Main {
  void main() {
    System.out.println("Hello 🧟‍-Land");
  }
}</code></pre></div></div>
<aside class="notes"><div class="paragraph"><p>Durch das neue flexibile lauch protokoll kann das Programm zuammmen gekürzt werden.
Jetzt muss "nur" noch das Konstruct Class akzeptiert werden, doch das kommt auch noch weg.</p></div>
<div class="paragraph"><p>Dazu die Frage, wo genau "legt" diese Klasse, also zu welchem Package gehört sie.</p></div></aside></div></section><section id="_grind_the_gears" data-background-image="images/closeup-shot-dirty-metal-gears-grid-light.jpg" data-background-size="cover"><h2>Grind the Gears!</h2><div class="slide-content">
<aside class="notes"><div class="paragraph"><p>Die Klasse ist der Startpunkt und referenziert andere Klassen.
Der Startpunkt sollte idr. nicht referenziert werden (circular dependency).
Sie braucht also keinen Namen, package und module.</p></div>
<div class="paragraph"><p>Um eine Instanz zu erzeugen braucht es auch keine Konfiguration, also keinen besonderen Konstruktor.</p></div>
<div class="paragraph"><p>Hier lässt sich doch eine kleine Einschränkung einbauen und dann passt das Lauchnprogramm mit rein!</p></div>
<div class="paragraph"><p>Auftritt Unnamed Class</p></div></aside></div></section><section id="_unnamed_class"><h2>Unnamed Class</h2><div class="slide-content"><h3>SomeName.java</h3><div class="listingblock"><div class="content"><pre class="highlight"><code class="language-java" data-lang="java">void main() {
  System.out.println("Hello 🧟-Land");
}</code></pre></div></div>
<h3>🚀 Launch 🚀</h3><div class="listingblock"><div class="content"><pre class="highlight"><code class="language-shell" data-lang="shell">$ java SomeName.java
Hello 🧟-Land</code></pre></div></div>
<aside class="notes"><div class="paragraph"><p>Einschränkung ist: alles kommt in eine Klasse</p></div>
<div class="paragraph"><p>Dann implizieren wir: Die Klasse die hat keinen Namen, lebt im unnamed package im unnamed module</p></div>
<div class="paragraph"><p>schon kann die Klasse gelaunched werden und die Einsteiger:innen müssen genau minimal wenig kennenlernen.
okay Script Sprachen brauchen noch weniger, aber irgendwo ist schluss</p></div></aside></div></section></section>
<section><section id="_and_now_as_one"><h2>And now as one</h2><div class="slide-content"><div class="listingblock"><div class="content"><pre class="highlight"><code class="language-java" data-lang="java">void main() {
    System.out.println("Goodbye Info Days")
}</code></pre></div></div><div style="margin-left: 47px; margin-right: 47px ">
    <img style="float: left; width: 37%" src="images/steckpuzzel.jpg" />
    <img style="float: right; width: 50%" src="images/SequencedCollectionDiagram20220216.png" />
</div></div></section><section id="_print_invoice"><h2>Print invoice</h2><div class="slide-content"><div class="listingblock"><div class="content"><pre class="highlight"><code class="language-java" data-lang="java">int value = 34;
double tax = value * 0.1;
List&lt;String&gt; brainCarrier = //..

void main() {
  FMT."""
  Hi %s\{ brainCarrier.reversed().getFirst() },
  please send %.2f\{ value + tax }€ to us or we eat you brain.

  Sincerely
    The 🧟s""";
}</code></pre></div></div></div></section><section id="_for_all_newbie_or_hero" data-background-image="images/_716929d6-b0e0-4ab1-a387-e4c2cb2fae94.jpg" data-background-size="cover"><h2>For all, Newbie or Hero</h2><div class="slide-content">
<aside class="notes"><div class="paragraph"><p>Zum schluss möchte ich noch einmal schnell repatulieren was wir heute gesehen haben.
Antworten auf drei häufige "why havn&#8217;t they simply"-Fragen.
String interpolation um Werte typsicher, formatiert in Strings einzufügen oder sie sogar in Objekte überführen.</p></div>
<div class="paragraph"><p>Collections die nicht nur eine Ordnung respektieren sondern diese auch in der API wiederspiegeln.</p></div>
<div class="paragraph"><p>Und abschließend das neue, minimalistisch starten von Java Anwendungen.</p></div>
<div class="paragraph"><p>Von alle den drei Aspekte werden sowohl richtige Experten und Neulinge in den ersten Minuten profitieren.</p></div></aside></div></section></section>
<section id="_contact" class="columns about" data-background-image="../../_shared/images/gluehbirnen.jpg" data-background-size="cover"><h2>Contact</h2><div class="slide-content">
<div class="openblock column"><div class="content"><h3>Me</h3>
<a href="https://fosstodon.org/@MBoegie" title="Merlin on Fosstodon">MBoegie@fosstodon.org</a> //
<a href="https://twitter.com/mboegie">@MBoegi</a> //
<a href="https://github.com/mboegers">MBoegers</a>
<br>
<h3>adesso</h3>
<a href="https://adesso.de">Infos</a> //
<a href="https://www.adesso.de/de/news/blog">DevBlog</a>
<h3>Approach direct</h3>
I'm here all day with cookies!</div></div>
<div class="openblock column is-one-third"><div class="content"><h3>Jobs</h3>
<div class="imageblock"><img src="../../_shared/images/qrcode_adesso_jobs.png" alt="qrcode adesso jobs"></div></div></div>
<aside class="notes"><div class="paragraph"><p>Follow me on Twitter for the slides.</p></div>
<div class="paragraph"><p>Look out for cool jobs with new Java at adesso SE.</p></div>
<div class="paragraph"><p>I blog about java at adesso dev blog and in my github page.</p></div></aside></div></section>
<section id="_image_credits"><h2>Image Credits</h2><div class="slide-content"><div class="ulist"><ul><li><p>Plants vs Zombies Wallpaper from <a href="http://images5.fanpop.com/image/photos/29000000/Plants-vs-Zombies-Wallpaper-plants-vs-zombies-29019425-1900-1200.jpg">Fanpop</a></p></li><li><p>What do we want Meme from <a href="https://imgflip.com/i/85ojrw">imgflip</a></p></li><li><p>Chaos image from <a href="https://de.freepik.com/vektoren-kostenlos/fuehrungskraefte-loesen-probleme-und-leiten-die-organisation-an-geschaeftliche-hindernisse-zu-ueberwinden-um-die-geplanten-geschaeftsziele-zu-erreichen_29175410.htm#query=Chaos&amp;position=42&amp;from_view=search&amp;track=sph">jcomp</a> on Freepik</p></li><li><p>Stagelights from <a href="https://de.freepik.com/fotos-kostenlos/projektor-buehnenbeleuchtung_24515767.htm#query=sieger&amp;from_query=Siegerehrung&amp;position=7&amp;from_view=search&amp;track=sph">vector_corp</a> on Freepik</p></li><li><p>Collection Hirachy by <a href="https://cr.openjdk.org/~smarks/collections/SequencedCollectionDiagram20220216.png">Stuart Marks</a></p></li><li><p>Gears from <a href="https://www.freepik.com/free-photo/closeup-shot-dirty-metal-gears-grid-light_12651417.htm#query=Grind%20gears&amp;position=7&amp;from_view=search&amp;track=ais">wirestock</a> on Freepik</p></li><li><p>0 to Hero from Bing <a href="https://www.bing.com/images/create/an-elderly-female-senior-person-as-super-hero-show/6553cd18a2b94ad49cb4b2a1d962ee45?id=i69MXWibMrEgAOIO7QzYSg%3d%3d&amp;view=detailv2&amp;idpp=genimg&amp;FORM=GCRIDP&amp;ajaxhist=0&amp;ajaxserp=0">Image Creator</a></p></li></ul></div></div></section></div></div><script src="../../_reveal.js/js/reveal.js"></script><script>Array.prototype.slice.call(document.querySelectorAll('.slides section')).forEach(function(slide) {
  if (slide.getAttribute('data-background-color')) return;
  // user needs to explicitly say he wants CSS color to override otherwise we might break custom css or theme (#226)
  if (!(slide.classList.contains('canvas') || slide.classList.contains('background'))) return;
  var bgColor = getComputedStyle(slide).backgroundColor;
  if (bgColor !== 'rgba(0, 0, 0, 0)' && bgColor !== 'transparent') {
    slide.setAttribute('data-background-color', bgColor);
    slide.style.backgroundColor = 'transparent';
  }
});

// More info about config & dependencies:
// - https://github.com/hakimel/reveal.js#configuration
// - https://github.com/hakimel/reveal.js#dependencies
Reveal.initialize({
  // Display presentation control arrows
  controls: false,
  // Help the user learn the controls by providing hints, for example by
  // bouncing the down arrow when they first encounter a vertical slide
  controlsTutorial: false,
  // Determines where controls appear, "edges" or "bottom-right"
  controlsLayout: 'bottom-right',
  // Visibility rule for backwards navigation arrows; "faded", "hidden"
  // or "visible"
  controlsBackArrows: 'faded',
  // Display a presentation progress bar
  progress: false,
  // Display the page number of the current slide
  slideNumber: false,
  // Control which views the slide number displays on
  showSlideNumber: 'all',
  // Add the current slide number to the URL hash so that reloading the
  // page/copying the URL will return you to the same slide
  hash: false,
  // Push each slide change to the browser history. Implies `hash: true`
  history: true,
  // Enable keyboard shortcuts for navigation
  keyboard: true,
  // Enable the slide overview mode
  overview: true,
  // Disables the default reveal.js slide layout so that you can use custom CSS layout
  disableLayout: false,
  // Vertical centering of slides
  center: true,
  // Enables touch navigation on devices with touch input
  touch: true,
  // Loop the presentation
  loop: false,
  // Change the presentation direction to be RTL
  rtl: false,
  // See https://github.com/hakimel/reveal.js/#navigation-mode
  navigationMode: 'default',
  // Randomizes the order of slides each time the presentation loads
  shuffle: false,
  // Turns fragments on and off globally
  fragments: true,
  // Flags whether to include the current fragment in the URL,
  // so that reloading brings you to the same fragment position
  fragmentInURL: false,
  // Flags if the presentation is running in an embedded mode,
  // i.e. contained within a limited portion of the screen
  embedded: false,
  // Flags if we should show a help overlay when the questionmark
  // key is pressed
  help: true,
  // Flags if speaker notes should be visible to all viewers
  showNotes: false,
  // Global override for autolaying embedded media (video/audio/iframe)
  // - null: Media will only autoplay if data-autoplay is present
  // - true: All media will autoplay, regardless of individual setting
  // - false: No media will autoplay, regardless of individual setting
  autoPlayMedia: null,
  // Global override for preloading lazy-loaded iframes
  // - null: Iframes with data-src AND data-preload will be loaded when within
  //   the viewDistance, iframes with only data-src will be loaded when visible
  // - true: All iframes with data-src will be loaded when within the viewDistance
  // - false: All iframes with data-src will be loaded only when visible
  preloadIframes: null,
  // Number of milliseconds between automatically proceeding to the
  // next slide, disabled when set to 0, this value can be overwritten
  // by using a data-autoslide attribute on your slides
  autoSlide: 0,
  // Stop auto-sliding after user input
  autoSlideStoppable: true,
  // Use this method for navigation when auto-sliding
  autoSlideMethod: Reveal.navigateNext,
  // Specify the average time in seconds that you think you will spend
  // presenting each slide. This is used to show a pacing timer in the
  // speaker view
  defaultTiming: 120,
  // Specify the total time in seconds that is available to
  // present.  If this is set to a nonzero value, the pacing
  // timer will work out the time available for each slide,
  // instead of using the defaultTiming value
  totalTime: 0,
  // Specify the minimum amount of time you want to allot to
  // each slide, if using the totalTime calculation method.  If
  // the automated time allocation causes slide pacing to fall
  // below this threshold, then you will see an alert in the
  // speaker notes window
  minimumTimePerSlide: 0,
  // Enable slide navigation via mouse wheel
  mouseWheel: false,
  // Hide cursor if inactive
  hideInactiveCursor: true,
  // Time before the cursor is hidden (in ms)
  hideCursorTime: 5000,
  // Hides the address bar on mobile devices
  hideAddressBar: true,
  // Opens links in an iframe preview overlay
  // Add `data-preview-link` and `data-preview-link="false"` to customise each link
  // individually
  previewLinks: false,
  // Transition style (e.g., none, fade, slide, convex, concave, zoom)
  transition: 'fade',
  // Transition speed (e.g., default, fast, slow)
  transitionSpeed: 'default',
  // Transition style for full page slide backgrounds (e.g., none, fade, slide, convex, concave, zoom)
  backgroundTransition: 'fade',
  // Number of slides away from the current that are visible
  viewDistance: 3,
  // Number of slides away from the current that are visible on mobile
  // devices. It is advisable to set this to a lower number than
  // viewDistance in order to save resources.
  mobileViewDistance: 3,
  // Parallax background image (e.g., "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'")
  parallaxBackgroundImage: '',
  // Parallax background size in CSS syntax (e.g., "2100px 900px")
  parallaxBackgroundSize: '',
  // Number of pixels to move the parallax background per slide
  // - Calculated automatically unless specified
  // - Set to 0 to disable movement along an axis
  parallaxBackgroundHorizontal: null,
  parallaxBackgroundVertical: null,
  // The display mode that will be used to show slides
  display: 'block',

  // The "normal" size of the presentation, aspect ratio will be preserved
  // when the presentation is scaled to fit different resolutions. Can be
  // specified using percentage units.
  width: 960,
  height: 700,

  // Factor of the display size that should remain empty around the content
  margin: 0.1,

  // Bounds for smallest/largest possible scale to apply to content
  minScale: 0.2,
  maxScale: 1.5,

  // PDF Export Options
  // Put each fragment on a separate page
  pdfSeparateFragments: true,
  // For slides that do not fit on a page, max number of pages
  pdfMaxPagesPerSlide: 1,

  // Optional libraries used to extend on reveal.js
  dependencies: [
      { src: '../../_reveal.js/plugin/zoom-js/zoom.js', async: true },
      { src: '../../_reveal.js/plugin/notes/notes.js', async: true }
  ],

  

});</script><script>var dom = {};
dom.slides = document.querySelector('.reveal .slides');

function getRemainingHeight(element, slideElement, height) {
  height = height || 0;
  if (element) {
    var newHeight, oldHeight = element.style.height;
    // Change the .stretch element height to 0 in order find the height of all
    // the other elements
    element.style.height = '0px';
    // In Overview mode, the parent (.slide) height is set of 700px.
    // Restore it temporarily to its natural height.
    slideElement.style.height = 'auto';
    newHeight = height - slideElement.offsetHeight;
    // Restore the old height, just in case
    element.style.height = oldHeight + 'px';
    // Clear the parent (.slide) height. .removeProperty works in IE9+
    slideElement.style.removeProperty('height');
    return newHeight;
  }
  return height;
}

function layoutSlideContents(width, height) {
  // Handle sizing of elements with the 'stretch' class
  toArray(dom.slides.querySelectorAll('section .stretch')).forEach(function (element) {
    // Determine how much vertical space we can use
    var limit = 5; // hard limit
    var parent = element.parentNode;
    while (parent.nodeName !== 'SECTION' && limit > 0) {
      parent = parent.parentNode;
      limit--;
    }
    if (limit === 0) {
      // unable to find parent, aborting!
      return;
    }
    var remainingHeight = getRemainingHeight(element, parent, height);
    // Consider the aspect ratio of media elements
    if (/(img|video)/gi.test(element.nodeName)) {
      var nw = element.naturalWidth || element.videoWidth, nh = element.naturalHeight || element.videoHeight;
      var es = Math.min(width / nw, remainingHeight / nh);
      element.style.width = (nw * es) + 'px';
      element.style.height = (nh * es) + 'px';
    } else {
      element.style.width = width + 'px';
      element.style.height = remainingHeight + 'px';
    }
  });
}

function toArray(o) {
  return Array.prototype.slice.call(o);
}

Reveal.addEventListener('slidechanged', function () {
  layoutSlideContents(960, 700)
});
Reveal.addEventListener('ready', function () {
  layoutSlideContents(960, 700)
});
Reveal.addEventListener('resize', function () {
  layoutSlideContents(960, 700)
});</script></body></html>