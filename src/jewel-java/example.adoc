== In Action

image::images/Binary_tree_v2.svg[height=400px,width=600px,background=white]

=== Base

Source Code: https://github.com/MBoegers/TreeExperiments[github.com/MBoegers/TreeExperiments]

[source,java]
----
sealed interface Tree { Tree delete(int value); }
record SubTree(Tree left, int value, Tree right) implements Tree {}
record EmptyTree() implements Tree {}
----

=== Java OO

[source,java]
----
// SubTree#delete(int)
if (value.equals(v)) {
  if (!hasLeftTree() && !hasRightTree())
    return new EmptyTree();
  else if (!hasLeftTree() && hasRightTree())
    return right;
  else if (hasRightTree() && !hasLeftTree())
    return left;
  else if (hasLeftTree() && hasRightTree())
    return ((SubTree)left).insertInRightTree(right);
  else
    System.err.println(
            "ðŸŽ¶And I said to myself 'What the fuck?'ðŸŽ¶");
    return tree;
} else //...
----

=== Java FP

[source,java]
----
// SubTree#delete(int)
return switch (tree) {
  case EmptyTree e -> e;
  case SubTree(Tree l, Integer v, Tree r)
    when contains(l, value) -> delete(l, value);
  case SubTree(Tree l, Integer v, Tree r)
    when contains(r, value) -> delete(r, value);
  case SubTree(EmptyTree l, Integer v, EmptyTree r)
    when v.equals(value) -> new EmptyTree();
  case SubTree(SubTree l, Integer v, EmptyTree r)
    when v.equals(value) -> l;
  case SubTree(EmptyTree l, Integer v, SubTree r)
    when v.equals(value) -> r;
  case SubTree(SubTree l, Integer v, SubTree r)
    when v.equals(value)-> insertSubTree(r, l);
};
----